import React from 'react';
import { StytchB2BUIClient } from '../../b2b/StytchB2BUIClient';
import { StringLiteralFromEnum } from '@stytch/core';
import { AuthFlowType, Callbacks, DiscoveredOrganization, OrganizationBySlugMatch, PrimaryRequired, SSOActiveConnection, StytchB2BUIConfig, StytchProjectConfigurationInput } from '@stytch/core/public';
import { MfaState } from './MfaState';
import { Action } from './reducer';
export declare enum AppScreens {
    Main = "Main",
    EmailConfirmation = "Email Confirmation",
    LoggedIn = "Logged In",
    Discovery = "Discovery",
    Error = "Error",
    PasswordEmailForm = "Password Email",
    PasswordAuthenticate = "Password Authenticate",
    PasswordResetForm = "Password Reset Form",
    PasswordResetVerifyConfirmation = "Password Reset Verify Confirmation",
    PasswordForgotForm = "Password Forgot Form",
    PasswordSetNewConfirmation = "Password Set New Confirmation",
    MFAEnrollmentSelection = "MFA Enrollment Selection",
    RecoveryCodeEntry = "Recovery Code Entry",
    RecoveryCodeSave = "Recovery Code Save",
    SMSOTPEnrollment = "SMS OTP Enrollment",
    SMSOTPEntry = "SMS OTP Entry",
    TOTPEnrollmentManual = "TOTP Enrollment Manual",
    TOTPEnrollmentQRCode = "TOTP Enrollment QR Code",
    TOTPEntry = "TOTP Entry",
    EmailMethodSelection = "Email Method Selection",
    EmailOTPEntry = "Email OTP Entry",
    SSODiscoveryEmail = "SSO Discovery Email",
    SSODiscoveryFallback = "SSO Discovery Fallback",
    SSODiscoveryMenu = "SSO Discovery Menu",
    IDPConsent = "IDP Consent"
}
export declare enum ErrorType {
    Default = 0,
    EmailMagicLink = 1,
    Organization = 2,
    CannotJoinOrgDueToAuthPolicy = 3,
    AdBlockerDetected = 4
}
export type EmailState = {
    userSuppliedEmail: string;
};
export type DiscoveryState = {
    email: string;
    discoveredOrganizations: DiscoveredOrganization[];
};
export type PasswordState = {
    email: string;
};
export type OtpState = {
    codeExpiration: Date | null;
};
export type SSODiscoveryState = {
    connections: SSOActiveConnection[];
};
export type FormState = {
    emailState: EmailState;
    discoveryState: DiscoveryState;
    passwordState: PasswordState;
    otpState: OtpState;
    ssoDiscoveryState: SSODiscoveryState;
};
export type FlowState = {
    type: StringLiteralFromEnum<AuthFlowType>;
    organization: null | OrganizationBySlugMatch;
};
type PrimaryAuthState = {
    primaryAuthMethods?: PrimaryRequired['allowed_auth_methods'];
    email?: string;
    emailVerified?: boolean;
};
export type AppState = {
    screen: AppScreens;
    screenHistory: AppScreens[];
    formState: FormState;
    flowState: FlowState;
    mfa: MfaState;
    primary: PrimaryAuthState;
    errorType: ErrorType;
};
export type AppContext<TProjectConfiguration extends StytchProjectConfigurationInput> = {
    client: StytchB2BUIClient<TProjectConfiguration>;
    config: StytchB2BUIConfig;
    callbacks?: Callbacks<TProjectConfiguration>;
    state: [AppState, React.Dispatch<Action>];
};
export declare const DEFAULT_STATE: AppState;
export declare const DEFAULT_CONFIG: StytchB2BUIConfig;
export declare const GlobalContext: React.Context<AppContext<Partial<import("@stytch/core/public").StytchProjectConfiguration>>>;
export type GlobalContextProviderProps<TProjectConfiguration extends StytchProjectConfigurationInput> = {
    children: React.ReactNode;
    client: StytchB2BUIClient<TProjectConfiguration>;
    config: StytchB2BUIConfig;
    callbacks?: Callbacks<TProjectConfiguration>;
    initialState?: AppState;
};
export declare const GlobalContextProvider: <TProjectConfiguration extends Partial<import("@stytch/core/public").StytchProjectConfiguration>>({ children, client, config, callbacks, initialState, }: GlobalContextProviderProps<TProjectConfiguration>) => React.JSX.Element;
export declare const useGlobalContext: () => AppContext<Partial<import("@stytch/core/public").StytchProjectConfiguration>>;
export declare const useStytch: () => StytchB2BUIClient<Partial<import("@stytch/core/public").StytchProjectConfiguration>>;
export declare const useGlobalReducer: () => [AppState, React.Dispatch<Action>];
export declare const useConfig: () => StytchB2BUIConfig;
export declare const useErrorCallback: () => (error: import("@stytch/core/public").StytchSDKUIError) => void;
export declare const useEventCallback: () => (event: import("@stytch/core/public").StytchEvent<Partial<import("@stytch/core/public").StytchProjectConfiguration>>) => void;
export {};
